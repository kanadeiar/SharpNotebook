# WPF Введение

Программисты .NET имеют единственный симметричный API-интерфейс для всех распространенных потребностей при использовании WPF для разработки графических настрольных приложений:

```csharp
Желаемая функциональность                   Технология
Построение форм с элементами управления         WPF
Поддержка двумерной графики                     WPF
Поддержка трехмерной графики                    WPF
Поддержка потокового видео                      WPF
Поддержка документов нефиксированного формата   WPF
```

Инфраструктура WPF определеяет способ отделения внешнего вида и поведения приложения с графическим пользовательским интерфейсом от программной логики. Пользовательский интерйейс пишется на языке XAML через разметку XML - "настольную разметку", с помощью инструментов Microsoft Visual Studio или Microsoft Expression Blend, затем может быть подключена к связанном файлу кода. Допустимо изменять внешний вид элемента управления только с помощью разметки. Модель WPF отличается от других тем, что визуализация графических данных происходит через API-интерфейс DirectX, а GDI не используется. Приложения WPF автоматом получают аппараткую и программную оптимизацию, могут задействовать графические службы без сложностей, присущих программированию напрямую через API DirectX.

Основные функциональные возможности WPF:

- множество диспетчеров компоновки для гибкого контроля над размещением и изменением содержимого

- расширенный механизм привязок данных для связывания содержимого с элементами пользовательского интерфейса

- встроенный механизм стилей, позволяющий определять темы приложения

- векторная графика для автоматического изменения размеров содержимого с целью соответтсвия размерам и разрешению экрана

- поддержка двухмерной и трехмерной графики, анимации, аудио и видео

- типографичкский API-интерфейс, поддерживающий документы XML, фиксированные документы, нефиксированные документы и аннотации в документах

- взаимодействие с унаследованными моделями графических пользовательских интерфейсов

Инфраструктура WPF - коллекция типов, втроенных в сборки .NET. Основные сборки WPF:
```csharp
PresentationCore.dll        Определены многочисленные пространства имен, образующие фундамент уровня графического пользовательского интерфейса в WPF, API WPF Ink, примитивы анимации и типы графической визуализации.
PresentationFramework.dll   Содержит большинство элементво управления WPF, Application & Window, поддержка 2D графики и типы для привязки данных
System.Xaml.dll             Содержит программное взаимодействие с документами XML во время выполнения
WindowsBase.dll             Содержит типы, формирующие инфраструктуру API-интерфейса WPF, типы потоков WPF, типы безопасности, преобразователи типов и поддержку свойств зависимости и маршрутизируемых событий
```
Основные пространства имен WPF:
```csharp
System.Windows              Корневое пространство имен WPF. 
System.Windows.Controls     Содержит все графические элементы WPF, типы для систем меню, подсказки и диспетчеры компоновки
System.Windows.Data         Содержит типы для работы с механизмом привязок данных
System.Windows.Documents    Типы для работы с API-интерфейсом документов в стиле PDF
System.Windows.Ink          Интерфейс Ink API получающий ввод от пера или мыши, реагировать на жесты
System.Windows.Markup       Множество типов, обеспечивающих программный анализ и обработку разметки XAML
System.Windows.Media        Связанные типы мультимедия, анимация, визуализация трехмерной графики, текста, мутлимедийные примитивы
System.Windows.Navigation   Логика навигации браузерных приложений XAML, настольными пиложениями со страничной моделью навигации
System.Windows.Shapes       Типы позволяющие визуализировать 3D графику, реагирующую на ввод мыши
```

Класс System.Windows.Application - глобальный экземпляр выполняющегося приложения WPF с методом Run() для запуска приложения и набором событий для обработки взаимодействия с приложением. Некоторые его свойства:
```csharp
Current                     Статическое свойство получение доступа к работающему объекта Application из любого места кода
MainWindow                  Свойство главного окна приложения
Properities                 Свойство данных, доступных через все аспекты прилжения WPF
StartupUri                  Свойство указывающее окно или страница для автоматического открытия при запуске прложения
WIndows                     Дает объект типа WindowCollection, дающее доступ ко всем окнам, созданным в потоке, создавшем объект Application.
```

Класс System.Windows.Window представляет одиночное окно, которым владеет Application класс.

Родительский класс System.Windows.Controls.ContentControl класа Window, срабжающий все производные класса способностью размещать в себе одиночный фрагмент содержимого через свойство Content. Пример кнопки с этим свойстовм:
```csharp
<Button Height="40" Width="80" Content="OK"></Button>
```
Содержимое может быть разным:
```csharp
<Button Height="40" Width="80">
    <StackPanel Orientation="Horizontal">
        <Ellipse Fill="GreenYellow" Height="20" Width="20"></Ellipse>
        <Label Content="OK"></Label>
    </StackPanel>
</Button>
```
Можно применять синтаксис "свойство - элемент" языка XAML:
```csharp
<Button Height="40" Width="80">
    <Button.Content>
        <StackPanel Orientation="Horizontal">
            <Ellipse Fill="GreenYellow" Height="20" Width="20"></Ellipse>
            <Label Content="OK"></Label>
        </StackPanel>
    </Button.Content>
</Button>
```














