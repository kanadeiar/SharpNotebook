# Строки

## Символы char
Предназначен для хранения символа в кодировке Unicode. Соответствует стандарту Char библиотеки .NET из пространства имен System. 
```csharp
'\u2260' //это ≠
```

Основные методы:
```csharp
Метод                       Описание
GetNumericValue             Возвращает числовое значение символа, если он является цифрой, и -1 в противном случае.
GetUnicodeCategory          Возвращает категорию Unicode-символа.
IsControl                   Возвращает true, если символ является управляющим.
IsDigit                     Возвращает true, если символ является десятичной цифрой.
IsLetter                    Возвращает true, если символ является буквой.
IsLetterOrDigit             Возвращает true, если символ является буквой или десятичной цифрой.
IsLower                     Возвращает true, если символ задан в нижнем регистре.
IsNumber                    Возвращает true, если символ является числом (десятичным или шестнадцатеричным).
IsPunctuation               Возвращает true, если символ является знаком препинания.
IsSeparator                 Возвращает true, если символ является разделителем.
IsUpper                     Возвращает true, если символ задан в нижнем регистре.
IsWhiteSpace                Возвращает true, если символ является пробельным (пробел, перевод строки, возврат каретки).
Parse                       Преобразует строку в символ (строка должна состоять из одного символа).
ToLower                     Преобразует символ в нижний регистр.
ToUpper                     Преобразует символ в верхний регистр.
```

## Неизменяемые строки
В языке C# есть встроенный тип для работы со строками символов в кодировке Unicode. Ему соответствует тип String библиотеки .NET из пространства имен System. Каждый объект этого типа - неизменяемая последовательность симоволов unicode, методы работы со строкой возвращают всегда измененные копии, исходные же строки остаются неизменными.
```csharp
string s;
string s = "Пример!";
string s = @"http://mail.ru"; //строка - буквально воспринимать
string myLongString = @"This is a very
          ""very""
                      long string"; //дословная строка
string s = new string('.', 10); //строка из 10 точек
int a = 123;
string s = a.ToString(); //строка из числа
char[] c = {'a', 'b', 'c', 'd', 'e'};
string v = new string(c); //строка из массива символов
string v = new string(c, 1, 3); //создание из части массива символов - "bcd"
```

## Некоторые методы работы со строками
```csharp
Название        Вид                     Описание
Length          Нестатический метод     Возвращает длину текущей строки
Compare()       Статический метод       Сравнение двух строк в алфавитном порядке. 
Contains()      Нестатический метод     Определить, содержится ли в строке указанная
Equals()        Нестатический           Проверка, содержится ли в друх значениях одинаковые значения
Copy            Статический метод       Создание копии строки.
Join            Статический метод       Слияние массива строк в единую строку. 
Split           Нестатический метод     Разделяет строку на элементы.
Trim            Нестатический           Удаляет все вхождения из набора указанных символов с начала и конца строки
Format          Статический метод       Форматирование строки
ToUpper         Нестатический метод     Все символы в текущей строки возвращает в верхнем регистре
PadLeft()       Нестатический метод     Позволяют дополнить строку определенными символами
```
Примеры использования:
```csharp
string s = "One";
Console.WriteLine("Upper: {0}", s.ToUpper());
Console.WriteLine("s содержит букву {0}", s.Contains("n")); //содержится ли строка в строке
Console.WriteLine("s после изменения {0}", s.Replace("n", "none")); //замена подстроки в строке
```
Конкатенация строк:
```csharp
string s1 = "One ";
string s2 = "Two";
string s3 = s1 + s2;   //  равносильно   string s3 = String.Concat(s1, s2);
```

Очень важные методы обработки — разделения строки на элементы Split и слияние массива строк в единую строку Join. 

В C# нельзя сравнивать строки с помощью операций отношений (<,>), для их сравнения нужно использовать методы Compare или CompareTo.
```csharp
Console.WriteLine(String.Compare(s1,s2));
Console.WriteLine(s1.CompareTo(s2));
```

## Сравнение строк
По умолчанию при выполнении проверки на предмет равенства ссылочных типов (с помощью операций == и ! = языка С#) значение true будет возвращаться в случае, если обе ссылки указывают на один и тот же объект в памяти. Однако, несмотря на то, что тип string в действительности является ссылочным, операции равенства для него были переопределены так, чтобы можно было сравнивать значения объектов string, а не ссылки на объекты в памяти.

```csharp
string s1 = "Dog";
s1 == "Dog"; // True
s1.Equals("Cat"); // False
"Dog".Equals(s1); // True
```
Операции равенства C# выполняют в отношении объектов string посимвольную проверку равенства с учетом регистра и нечувствительную к культуре.

## Интерполяция строк
Начиная с выпуска C# 6, при построении строковых литералов, содержащих заполнители для переменных, программисты C# могут использовать альтернативный синтаксис.
```csharp
string greeting = string.Format("Hello {0} you are {1} years old.", name, age);
string greeting2 = $"Hello {name} you are {age} years old.";
```




# Продвинутое

## Модификация сравнения строк
Лучший прием предусматривает применение перегруженных версий перечисленных ранее методов, которые принимают значение перечисления StringComparison, управляющего выполнением сравнения.

Используйте StringComparison.Ordinal или StringComparison.OrdinalIgnoreCase для сопоставления в качестве безопасного по умолчанию для сопоставления строк, не связанных с культурой и для повышения производительности.
```csharp
CurrentCulture Сравнивает строки с использованием правил сортировки, чувствительной к культуре
CurrentCulturelgnoreCase Сравнивает строки с применением правил сортировки, чувствительной к культуре, и текущей культуры, игнорируя регистр символов сравниваемых строк
InvarlantCulture Сравнивает строки с использованием правил сортировки, чувствительной к культуре, и инвариантной культуры
InvariantCulturelgnoreCase Сравнивает строки с применением правил сортировки, чувствительной к культуре, и инвариантной культуры, игнорируя регистр символов сравниваемых строк
Ordinal Сравнивает строки с использованием правил ординальной (двоичной)сортировки
OrdinalIgnoreCare Сравнивает строки с использованием правил ординальной (двоичной) сортировки, игнорируя регистр символов сравниваемых строк.
```
Пример использования:
```csharp
Console.WriteLine("Ignore case:{0}" si.Equals(s2, StringComparison.OrdinallgnoreCase);
Console.WriteLine("Ignore case, Invariant culture: {0}", s1.Equals(s2, StringComparsion.InvariantCultureIngoreCase));
```
В то время как приведенные здесь примеры просты и используют те же самые буквы в большинстве культур, если ваше приложение должно принимать во внимание разные наборы культур, тогда применение перечисления StringComparison становится обязательным.

## Строки - неизменяемые значения.

Класс string может стать неэффективным и при неправильном употреблении приводить к “разбуханию” кода. Но если необходимо представлять элементарные символьные данные, такие как номер карточки социального страхования, имя и фамилия или простые фрагменты текста, используемые внутри приложения, тогда тип string будет идеальным вариантом

## Изменяемые строки StringBuilder
Для работы со строками, которые можно изменять, используется класс StringBuilder из пространства System.Text. Объекты этого класса создаются с явным вызовом создания объекта new. По умолчанию StringBuilder способен хранить строку только длиной 16 cимволов или меньше (но при необходимости будет автоматически расширяться). 

```csharp
using System.Text;
StringBuilder a =new StringBuilder();
StringBuilder b = new StringBuilder("abcd"); 
StringBuilder с = new StringBuilder(100);
StringBuilder d = new StringBuilder("abcd", 100); //дополнительные параметры конструктора - начальное значение длины строки
StringBuilder e = new StringBuilder("abcd", 1, 3,100);
```
## Некторые методы работы с классом StringBuilder изменяемых строк
```csharp
Название        Вид                     Описание
Append          Нестатический метод     Добавление данных в конец строки. Разные варианты метода позволяют добавлять в строку величины любых встроенных типов.
Length          Изменяемое свойство     Возвращает длину строки. Присвоение ему значения 0 сбрасывает содержимое и очищает строку.
ToString        Нестатический метод     Преобразование в строку типа string.
[]              Индексатор              Возвращает из массива или устанавливает в массиве символ с заданным индексом. 
```
Пример использования:
```csharp
sb.Append("\n");
sb.AppendLine("Half Life");
sb.AppendLine("Morrowind");
sb.AppendLine("Deus Ex" + "2");
sb.Replace("2", " Invisible War");
```