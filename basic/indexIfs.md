# Ветвления

## Условия.

Реализовано оператором if
```csharp
if (true) 
{
    //выполнить если истинна
}
else
{
    //выполнить если ложь
}
```
## Условная операция
Условный оператор (?:) относится к числу самых примечательных в C#. Он прадставляет собой условны оператор и может заменить конструкцию if-then-else.
```csharp
bool b = true;
var x = (b) ? "dss" : "dss";
```
С условной операцией связаны некоторые ограничения. Во-первых, типы конструкций первое_выражение и второе выражение должны быть одинаковыми. Во-вторых, условная операция может использоваться только в операторах присваивания

## Логические операции

&&      Операция "И"

||      Операция "ИЛИ"

!       Операция "НЕ"

Операции && и | | при необходимости поддерживают сокращенный путь выполнения. Другими словами, после того, как было определено, что сложное выражение должно дать в результате false, оставшиеся подвыражения вычисляться не будут. Если требуется, чтобы все выражения вычислялись безотносительно к чему-либо, тогда можно использовать операции & и |. Дополнительно поддерживаниется оператор исключающего или ^.

## Оператор switch
Предназначен для разветвления процесса выполения программы. Оператор switch позволяет организовать выполнение программы на основе заранее определенного набора вариантов. Блок default обрабатывает недопустимый выбор.
```csharp
switch(value)
{
    case 1: WriteLine("1");
        break;
    case 2:
    case 3: WriteLine("1");
         break;
    default: WriteLine("def");
        break;
}
```
Язык C# требует, чтобы каждый блок case (включая default), который содержит исполняемые операторы, завершался оператором return, break или goto во избежание сквозного прохода по блокам. Вдобок к числовым значениям C# способен оценивать типы данных char, string, bool, int, long & enum.

Пример с типом string:
```csharp
switch(strValue)
{
    case "one": WriteLine("1");
        break;
    case "two"
    case "three": WriteLine("1");
        break;
    default: WriteLine("def");
        break;
}
```
Пример с типом enum - DayOfWeek.
```csharp
switch(favDay)
{
    case DayOfWeek.Sunday: WriteLine("1");
        break;
    case DayOfWeek.Monday:
    case DayOfWeek.Thursday: WriteLine("1");
        break;
    default: WriteLine("def");
        break;
}
```
## Сопоставление с образцом switch
До появления версии C# 7 сопоставляющие выражения в операторах switch ограничивались сравнением переменной с константными значениями, что иногда называют образцом с константами. В C# 7 операторы switch способны также задействовать образец с типами, при котором операторы case могут оценивать тип проверяемой переменной, и выражения case больше не ограничиваются константными значениями. Правило относительно того, что каждый оператор case должен завершаться с помощью return или break, по-прежнему остается в силе, тем не менее, операторы goto не поддерживают применение образца с типами.
```csharp
switch(choise)
{
    case int i: WriteLine($"Целое: {i}");
        break;
    case string s: WriteLine($"Строка: {s}");
        break;
    default: WriteLine("Неизвестное");
        break;
}
```
Добавление конструкции when для оценки условий на переменной:
```csharp
switch(choise)
{
    case int i when i == 1:
    case string s when s.Equals("one"):
        WriteLine($"Что-то равно еденице");
        break;
    case int i when i == 2:
    case string s when s.Equals("two"):
        WriteLine($"Что-то равно двум");
        break;
    case int _: //отбрасывание
        WriteLine("Это какое-то число");
        break;
    default: WriteLine("Неизвестное");
        break;
}
```







# Продвинутое

## Выражения switch
В С# 8 появилось выражение switch на замену инструкциям switch, где она используется для возвращения значения, при этом идет повторение слов case и break. Новый инструмент более крут. Зацени!

Пример статического метода:
```csharp
public static string StrFromInt(int indexInt)
{
    return indexInt switch
    {
        1 => "красный",
        2 => "оранжевый",
        3 => "синий",
        _ => "непонятный",
    };
}
string strin = StrFromInt(1); // оранжевый
```
пример применения внути метода:
```csharp
int indexInt = 5;
string strin2 = indexInt switch
{
    1 => "белый",
    2 => "фиолетовый",
    3 => "пурпурный",
    _ => "черный",
};
```
Также можно применять инструкцию when для оценки условий на переменной:
```csharp
static string StrBott(object obj)
{
    return obj switch
    {
        int i when i >= 1 && i <= 10 => "целое число в пределах нормы",
        string _ => "это вообще какая то строка",
        int _ => "это какое-то число",
        _ => "это непонятно что",
    };
}
```
или просто:
```csharp
object obj = 2;
string strin3 = obj switch
{
    int i when i >= 1 && i <= 10 => "целое число в пределах нормы",
    string _ => "это вообще какая то строка",
    int _ => "это какое-то число",
    _ => "это непонятно что",
};
```

