# Основы (подключение других файлов)

## Настройка проекта Visual Studio

Создать проект "С++ Пустой".

Добавить файл в "Source" - "Source.c".

В найстройках файла (ПКМ) раздел "C/C++" - "Общие" убрать проверку "SDL checks". Еще раздел "Дополнительно" - установить "Компилировать как" - "код С".

## Базовая функция

В каждой программе на C обязательно должно присутствовать функция main(). От команды функцию отличают круглые скобки сразу после имени. Имена практически всех втроенных функций С должны содержать буквы нижнего регистра. Язык С придирчив к регистрам. Следует всегда функцию main() ставить первой.
```c
#include <windows.h>
#include <stdio.h>
int main(int argc, const char* argv[])
{
	SetConsoleCP(1251);
    SetConsoleOutputCP(1251);
	printf_s("Привет, ");
	printf_s("Всем!\n");	
	getchar();
	return 0;
}
```
Слово int перед main говорит о том, что программа в конце работы передает операционной системе результат своей работы - целое число.

Часть программы заключенная в фигурные скобки, называется блоком. Внутри скобок записывают команды языка программирования, которые называются операторами.

Правило программирования - комментировать код.

//Комментарий
/* Комментарий 
многострочный */
Для повышения удобочитаемости программ исползовать отступы и разрывы.

## Подключение файлов к программе

Два идентичных формата:

#include <имя файла>

#include "имя файла"

Это директива команды слияния файлов. Выражение include заменится содержимым файла, указанным после него. Она вставляет содержимого одного файла в другой. Рядом с компилятором существует хранилище файлов, входящих в комплект поставки компилятора, для их включения нужно использовать угловые скобки. Подключаемый файл xxx.h - заголовоыный.

При написании собственных загловочных файлов нужно использовать вторую форму директивы препроцессора, с именем, заключенным в кавычки. При этом компилятор сначало ищет нужный файл в той папке, в которой сохраненна программ, и если не находит, то продолжает поиск в директории, выбранной по умолчанию.

Заголовочный файл это файл с расширением .h. Это дает компилятору понять, что создан именно заголовочный файл. Чтобы задействовать заголовочный файл в основном коде, нужно его подключить:

#include "CppConsoleApplication1Learn.h"

# Выход из программы

Каждый раз, когда нужно преждевременно завершить выполнение программы, нужно воспользоватся функцией exit(). Значение, указанное в скобках передается ОС. Пример:
```c
exit(0);``` 

# Код на ассемблере 

Можно вставлять свой код на асме по приколу:
```c
__asm
{
    mov ax, 5;
    mov bx, 3;
    add ax, bx;
}
``` 

# Замер скорости выполнения кода в тактах процессора
```c
unsigned __int64 sta = __rdtsc();
///// код для замера
unsigned __int64 end = __rdtsc();
printf("\nКоличество тиков процессора: %I64d\n", end - sta);
```

# Замер скорости выполнения кода в секундах
```c
time_t start = time(NULL);
time_t end = time(NULL);
printf("Время: %.16f", difftime(end, start));
```
Еще:
```c
time_t start = clock();
time_t end = clock();
printf("time: %lf second\n", (double)(end - start) / CLOCKS_PER_SEC);
```

# Модульное программирование

Создать модуль - файл с расширением "с". В нем нет основоной программы main(), а есть только функции. "Hello.c":
```c
#include <stdio.h>
void PrintHello()
{
	printf("Hello World!");
}
```
Далее включить этот файл в проект в дополнние к файлу с основной программой main().
Далее создать заголовочный файл, имеющий расширение .h, в нем объявить типы даных, функции. Только объявляютс, не реализуются.
"Hello.h":
```c
#pragma once
void PrintHello();
```
В конце подключить заголовочный файл к основной программе:
```c
#include "Hello.h"
..........
    PrintHello();
```