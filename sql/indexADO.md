# Введение ADO.NET, фабрика поставщика, построитель, команды, чтение, транзакции, массовое копирование, отслеживание состояния

Существует три разных способа применения ADO.NET:

1. Подключенный уровень - кодовая база подключается к лежащему в основе храниищу данных и отключается от него, взаимодействие с хранилищем данных посредством подключений, объектов команд и объектов чтения данных.

2. Автономный уровень - манипулированием объектов DataTable (он внутри DataSet) как копией внешних данных. А уже для отправки изменения в хранилище данных применяется адаптер данных.

3. Применение ORM, такой как Entity Framework. Применение объектов C#, предоставляющие данные в ориентированной на приложение манере. Абстрагирование от кода доступа к данным. Взаимодействие с базами данных с использованием сущностей.

Поставщик данных - набор типов, определенных в отдельном пространстве имен, которым известно, как взаимодействовать с конкретным источником данных. Все основные классы являются производными от самого базового класса DbConnection, реализуют идентичные интерфейсы IDBConnection.

Некоторые типы поставщиков данных ADO.NET:

Тип         | Базовый класс | Интерфейсы     | Описание  
------------|---------------|----------------|------------
Connection  | DbConnection  | IDbConnection  | Отключение и подключение к хранилищу данных, доступ к связанной транзакции
Command     | DbCommand     | IDbCommand     | Запрос SQL либо хранимая процедура, доступ к объекту чтения данных поставщика
DataReader  | DbDataReader  | IDbDataReader IDbDataRecord | Доступ к данным в направлении вперед для чтения с использованием SQL курсора
DataAdapter | DbDataAdapter | IDataAdapter IDbDataAdapter | Передача объектов DataSet между кодом и хранилищем данных, содержит подключение и команды выборки, вставки, изменения и удаления данных
Parameter   | DbParameter   | IDataParameter IDbParameter | Именованный параметр параметризированного запроса
Transaction | DbTransaction | IDbTransaction | Именованный параметр параметризированного запроса

## Примитивы базы данных

Пространство имен System.Data содержит различные примитивы базы данных, реализуемые поставщиками данных.

Тип         | Описание
------------|---------------
Constraint  | Ограничение для заданного объекта DataColumn
DataColumn  | Одиночный столбец объекта DataTable
DataRelation | Отношение "родительский-дочерний" между двумя объектами DataTable
DataRow     | Одиночная строка объекта DataTable
DataSet     | Находящийся в памяти кеш данных, сотоящий из любого количества взаимосвязанных объектов DataTable
DataTable   | Табличный блок данных в памяти
DataTableReader | Трактовка объекта DataTable как курсор чтения данных в одном направлении
DataView  | Настраиваемое представление для сортировки, фильтрации, поиска, редактирования и навигации
IDataAdapter | Поведение объекта адаптера данных
IDataParameter  | Поведение объекта параметра
IDataReader  | Поведение объекта чтения данных
IDbCommand  | ПОведение команды
IDbDataAdapter | Расширяет интерфейс IDataAdapter в целях дополнительной функциональности
IDbTransaction |  Поведение объекта транзакции

>метод IsDBNull(int i) объекта DataTable позволяет определить, установлено ли указанное поле в null. 

## Соединение с базой данных

Некторые члены типа DbConnection:

Член                     | Описание
-------------------------|-------------------------
BeginTransaction()       | Метод начинающий транзакцию базы данных
ChangeDatabase()         | Изменение базы данных, связанной с открытым подключением
ConnectionTimeout        | Свойство только для чтения вертающее промежуток времени, в течении которого ожидается установка соединения, прежде чем будет сгенерирована ошибка (стандарт - 15 секунд)
Database                 | Свойство только для чтения вертающее имя базы данных
DataSource               | Свойство только для чтения вертающее местоположение базы данных
GetSchema()              | Вертает объект DataTable с информацией по схеме источника данных
State                    | Свойство только для чтения вертает текущее состояние подключения (enum ConnectionState)
